salesPY_YTD = CALCULATE([salesYTD];SAMEPERIODLASTYEAR('Date'[Date]))
salesPP = CALCULATE(sum('Date'[Date]);
            PARALLELPERIOD('Date'[Date];-1;YEAR))
sales2Y = CALCULATE([SalesPY];SAMEPERIODLASTYEAR('Date'[Date]))
SalesPY = CALCULATE(sum(Sales[Unit Price]);
                    SAMEPERIODLASTYEAR('Date'[Date]))
SalesPY = CALCULATE(sum(Sales[Unit Price]);
		    //    filter(
                    //        ALL('Date');
                    //        'Date'[Date]>=DATE(YEAR(max('Date'[Date]));1;1) && 
                    //        'Date'[Date]<=MAX('Date'[Date])
                    //    DATESBETWEEN('Date'[Date];DATE(YEAR(max('Date'[Date]));1;1);   MAX('Date'[Date]) )

                    SAMEPERIODLASTYEAR('Date'[Date]))

COVID COVID COVIDCOVID COVID COVIDCOVID COVID COVIDCOVID COVID COVIDCOVID COVID COVIDCOVID COVID COVID
Data Aggiornamento = 
CALCULATE(MAX('Casi per Regione'[data]) ; ALL('Casi per Regione'))
Data Selezionata = SELECTEDVALUE(Calendario[Data];MAX(Calendario[Data]))
Regione selezionata = FIRSTNONBLANK(Regioni[Regione];1)

Multimetrica = 
SWITCH(FIRSTNONBLANK(Multimetrica[ID_Metrica];1);
1;[Totale Casi Assoluti];
2;[Attivi Assoluti];
3;[Guariti Assoluti];
4;[Deceduti Assoluti])

Attivi Oggi = 
VAR Data = SELECTEDVALUE(Calendario[Data];MAX(Calendario[Data]))
RETURN
CALCULATE([Attivi Assoluti];Calendario[Data]= Data)
Attivi Cumulati = TOTALYTD([Attivi Assoluti];Calendario[Data])
Attivi Assoluti = [Attivi] - CALCULATE([Attivi] ; DATEADD( Calendario[Data] ; -1 ; DAY))
Attivi % = DIVIDE([Attivi Cumulati];[Totale Casi Cumulati])
Attivi = [Totale Casi] - [Guariti] - [Deceduti]

Totale Casi = SUM('Casi per Regione'[totale_casi])
Totale Casi Assoluti = [Totale Casi] - CALCULATE( [Totale Casi] ;DATEADD(Calendario[Data];-1;DAY))
Totale Casi Cumulati = TOTALYTD([Totale Casi Assoluti];Calendario[Data])

modello:

Total Sales = SUM(FactResellerSales[ExtendedAmount])
Total Cost = SUM(FactResellerSales[TotalProductCost])
Net Total Sales = SUM(FactResellerSales[SalesAmount])
Quantity = SUM(FactResellerSales[OrderQuantity])
Net Total Sales PY = CALCULATE([Net Total Sales];SAMEPERIODLASTYEAR(DimDate[Date]))

Quantity:
Quantity YTD = TOTALYTD([Quantity];DimDate[Date])
Quantity PY = CALCULATE([Quantity];SAMEPERIODLASTYEAR(DimDate[Date]))
Quantity YTD PY = TOTALYTD([Quantity PY];DimDate[Date])

Margin:
Margin = [Net Total Sales] - [Total Cost]
Margin PY = CALCULATE([Margin];SAMEPERIODLASTYEAR(DimDate[Date]))
Margin % = DIVIDE([Margin];[Net Total Sales])

Delta:
Delta Margin = [Margin] - [Margin PY]
Delta Quantity YTD = [Quantity YTD] - [Quantity YTD PY]
Delta Net Total Sales % = DIVIDE([Delta Net Total Sales];[Net Total Sales PY])
Delta Net Total Sales = [Net Total Sales] - [Net Total Sales PY] 
Delta Margin % = DIVIDE([Delta Margin];[Margin PY])
Delta Quantity % = DIVIDE([Delta Quantity];[Quantity PY])
Delta Quantity = [Quantity] - [Quantity PY]



Discount Amount = SUM(FactResellerSales[DiscountAmount])

